<!DOCTYPE html>
<html lang="en-GB">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Societies - Phonegap Plugin Usage Example</title>
	<meta name="author" content="Olivier Maridat (Trialog)" />
	
	<script type="text/javascript" src="js/lib/phonegap.js"></script>
	<!--[if IE]><script type="text/javascript" src="js/lib/html5-ie.js"></script><![endif]--> 
	<link type="text/css" rel="stylesheet" href="design/css/lib/jquery.mobile.css" /> 
	<link type="text/css" rel="stylesheet" href="design/css/societies.css" /> 
	<script type="text/javascript" src="js/lib/jquery.js"></script>
	<script type="text/javascript" src="js/lib/jquery.mobile.js"></script>
</head> 
<body>


<section data-role="page" id="main">
	<header data-role="header">
		<h1>PhoneGap Plugin Example</h1>
	</header>
	
	<article data-role="content">
		<input type="text" name="name" id="name" placeholder="Your name" value="" />
		<input type="button" name="sayHello" id="sayHello" value="Say Hello" data-role="button" data-inline="true" />
		<p>This button will say hello to the name you typed.</p><br />
		<input type="button" name="sayHelloList" id="sayHelloList" value="Say Hellos" data-role="button" data-inline="true" />
		<p>This button will say hello to Bruno, Rafik, World and Olivier.</p><br />
	</article>
	
	<footer data-role="footer" data-position="fixed">
		<a href="#main" data-role="button" data-icon="back" data-inline="true">Back to main</a>
	</footer>
</section>

<script type="text/javascript" src="js/plugin/HelloWorld.js"></script>
<script type="text/javascript" >
document.addEventListener('deviceready', function() {
//jQuery(function() {
	$('#sayHello').click(function() {
		var name = $('#name').val();
		console.log("Your name is: "+name);
		window.plugins.HelloWorld.sayHello(name, onSuccess_sayHello, onFailure_sayHello);
	});
	
	$('#sayHelloList').click(function() {
		var names = ["Bruno", "Rafik", "", "Olivier"];
		console.log("Your names are: "+names);
		window.plugins.HelloWorld.sayHelloList(names, onSuccess_sayHello, onFailure_sayHello);
	});
});

function onSuccess_sayHello(data) {
	$('.result').remove();
	$('.error').remove();
	$('<span>').addClass('result').html(data).appendTo('#main article[data-role=content]');
}
function onFailure_sayHello(e) {
	$('.result').remove();
	$('.error').remove();
	$('<span>').addClass('error').html(e).appendTo('#main article[data-role=content]');
}
</script>

</body>
</html>